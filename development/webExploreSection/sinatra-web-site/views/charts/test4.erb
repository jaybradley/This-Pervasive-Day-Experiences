var <%= params[:chart_name] %>_chart;

//var dave_data = [1.0, 1.9, 1.5, -1.5, -1.2, -1.5, -1.2, -1.5, 1.3, 1.3, 1.9, 1.6]

<%= params[:chart_name] %>_chart = new Highcharts.Chart({
    chart: {
        renderTo: '<%= params[:chart_name] %>_chart_container',
        defaultSeriesType: 'spline',
        marginRight: 130,
        marginBottom: 25
    },
    credits: {
        enabled: false
    },
    title: {
        text: 'How do you feel about that?',
        x: -20 //center
    },
    subtitle: {
        text: 'I wonder',
        x: -20
    },
    xAxis: {
        categories: ['Genetics', 'Environment', 'Robotics']
    },
    yAxis: {
        title: {
        text: 'Emotional response'
        },
        plotLines: [{
            value: 0,
            width: 1,
            color: '#808080'
        }]
    },
    tooltip: {
        formatter: function() {
            return '<b>'+ this.series.name +'</b><br/>'+
            this.x +': '+ this.y;
        }
    },
    legend: {
        layout: 'vertical',
        align: 'right',
        verticalAlign: 'top',
        x: -10,
        y: 100,
        borderWidth: 0
    },
    series: [{
        name: 'Dave',
            data: <%= @dave_data %>,
            color: '#085788'
        }, {
        name: 'Bob',
            data: <%= @bob_data %>,
            color: '#873908'
        }, {
        name: 'Chris',
            data: <%= @chris_data %>,
            color: '#876c08'
        }, {
        name: 'Sarah',
            data: <%= @sarah_data %>,
            color: '#1f0887'
    }]
});
